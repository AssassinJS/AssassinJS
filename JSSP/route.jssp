<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css" />
</head>
<body>

<div id="bodyWrapper">

<div id="headerWrapper">
<div id="headerContent">
<div class="headingText left">Assassin.js</div>
<div class="headingText right">Assassin Panel</div>
</div>
</div>
<div id="contentWrapper">

<div id="contentLeft">
<div id="projectMenu" class="glowBoxBlue">
<a class="navMenuLink" href="./home.jssp">Home</a><br />
<a class="navMenuLink" href="./routes.jssp">Configure Project Routes</a><br />
<a class="navMenuLink" href="./filters.jssp">Configure Filters</a><br />
<a class="navMenuLink" href="./index.jssp">Logout</a>
</div>

<div id="newFilterBox" class="boxBlue">
<form action="./addFilter.jssp" method="GET">
<br />
<input type="text" name="route" class="roundInputBox" placeholder="Add A New Filter Here" /><br /><br />
<button type="submit">Add Filter</button>
</form>
</div>

</div>
<div id="contentRight">
<$
var url = require('url');
var routesList = __dataObj["routesDB"];
var route = url.parse(__request.url,true).query.route;
$>
<div id="titlebox" class="glowBoxNavy">
<p>Route is: <$=route$></p>
</div>
<div id="infobox" class="boxNavy">

Route Filters<br />

<table border="0" cellspacing="0" style="width:100%">

	<$
	for(var x in routesList)
	{
		if(routesList[x].regexp == route && routesList[x].filters!=undefined)
		{$>
		<tr>
		<th style="color:white;">Select Filter to Change Properties</th>
		</tr>
		<$
			if(routesList[x].filters["GET"]!=undefined)
			{$>
			<tr>
			<td style="color:white;font-weight:bold;">GET filters</td>
			</tr>
			<$
			for(var y in routesList[x].filters["GET"])
			{$>
			<tr>
			<td style="color:white;"><a href="./routefilter.jssp?filter=<$=routesList[x].filters['GET'][y]$>&route=<$=route$>"><$=routesList[x].filters["GET"][y]$></a></td>
			</tr>
			<$
			}
			}
			
			if(routesList[x].filters["POST"]!=undefined)
			{$>
			<tr>
			<td style="color:white;font-weight:bold;">POST filters</td>
			</tr>
			<$
			for(var y in routesList[x].filters["POST"])
			{$>
			<tr>
			<td style="color:white;"><a href="./routefilter.jssp?filter=<$=routesList[x].filters['POST'][y]$>&route=<$=route$>"><$=routesList[x].filters["POST"][y]$></a></td>
			</tr>
			<$
			}
			}
		}
		else if(routesList[x].regexp == route && routesList[x].filters==undefined)
		{$>
		<tr>
		<th style="color:white;">No Filters Applied</th>
		</tr>
		<$}
	}
	$>
</table><br />
</div>
</div>

</div>
<div id="footerWrapper">
<div id="footerContent">
<div class="left">
(c)2013 Adithya Chebiyyam and Sai Teja Jammalamadaka</div>
<div class="right">Maintained By <a href="http://www.setusoftware.com">Setu Software Systems</a></div>
</div>
</div>

</div>

</body>
</html>
